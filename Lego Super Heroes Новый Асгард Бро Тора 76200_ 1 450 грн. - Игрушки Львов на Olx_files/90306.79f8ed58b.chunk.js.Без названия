(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[90306],{92620:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});n(72323);function r(e){return e}},11792:(e,t,n)=>{"use strict";var r=n(76005),i=n.n(r),a=n(47516),o=n(33592);function c(){var e=d(["\n    display: flex;\n    padding: ",";\n    justify-content: space-between;\n    flex-grow: 1;\n"]);return c=function(){return e},e}function l(){var e=d(["\n    height: 60px;\n"]);return l=function(){return e},e}function s(){var e=d(["\n    padding: ",";\n    display: flex;\n    flex-direction: column;\n    height: 72px;\n"]);return s=function(){return e},e}function u(){var e=d(["\n    padding: ",";\n"]);return u=function(){return e},e}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=(0,o.ZP)({resolved:{},chunkName:()=>"react-loading-skeleton",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(26857).then(n.t.bind(n,46009,23)),requireAsync(e){var t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){var t=this.resolve(e);return n(t)},resolve(){return 46009}}),p=a.Z.div(u(),(({theme:e})=>e.space[12])),g=a.Z.div(s(),(({theme:e})=>"".concat(e.space[16]," ").concat(e.space[8]," ").concat(e.space[8]))),v=a.Z.div(l()),h=a.Z.div(c(),(({theme:e})=>"".concat(e.space[16]," ").concat(e.space[8]," "))),m=()=>i().createElement(p,{"data-testid":"listing-loading-skeleton","data-cy":"listing-loading-skeleton"},i().createElement(f,{width:150,height:10}),i().createElement(g,null,i().createElement(f,{width:120,height:10}),i().createElement(f,{width:100,height:8})),i().createElement(f,{width:"100%",height:1}),i().createElement("div",null,[...Array(5)].map(((e,t)=>i().createElement(v,{key:"skeletonItem-".concat(t)},i().createElement(h,null,i().createElement(f,{width:140,height:15}),i().createElement(f,{width:15,height:15})),i().createElement(f,{width:"100%",height:1}))))));t.Z=m},73466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Gt});var r=n(76005),i=n.n(r),a=n(98713),o=n(38378),c=n(47516),l=n(58661),s=n(61551),u=n(13008),d=n(17620),f=n.n(d),p=n(48073),g=n(89765),v=n(73173),h=n(4121),m=n(61819),b=n(58990);function y(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    ","\n"]);return y=function(){return e},e}var w=(0,c.Z)(b.Z)(y(),(({theme:e})=>"\n        padding:".concat(e.space[0],";\n        border:none;\n        position:absolute;\n        top:50%;\n        transform:translateY(-50%);\n        right: ").concat(e.space[8],";\n    "))),E=({onClear:e})=>i().createElement(w,{"data-testid":"clear-btn",onClick:e},i().createElement(o.x8P,{size:20})),O=n(27742),j=i().memo((e=>{var{formatMessage:t}=(0,u.Z)(),{recentSearch:n,handleSelect:r,query:a="",label:o,type:c,handleClear:l}=e,s=t({id:"suggestion.applied.filters",defaultMessage:"Applied filters"});if(0===n.length)return null;var d=n.filter((e=>e.query.includes(a)));return 0===d.length?null:i().createElement(i().Fragment,null,o,d.map(((e,t)=>i().createElement(O.Al,{"data-testid":"recent-search-item",key:"".concat(t).concat(e.query),onClick:()=>r(e,c)},i().createElement(m.TB,{dangerouslySetInnerHTML:{__html:e.query.replace(new RegExp(a,"i"),"<b>$&</b>")}}),e.applied_filter&&i().createElement(m.Ym,null,"".concat(s," [").concat(e.applied_filter,"]")),i().createElement(E,{onClear:t=>l(t,e)})))))})),k=n(16760),S=n.n(k),P=n(16765),Z=n.n(P),x=n(1722),_=n(19272),I=n(12038),C=n(30825),L=n(13904),z=e=>{var{handleSelect:t=(()=>{}),query:n,label:r,type:a}=e,o=(0,x.ti)(),[c]=(0,I.L_)(),l="https://discovery-autocomplete.eu-sharedservices.olxcdn.com/api/v1/search/autocomplete";(0,L.default)("BUY-2279")&&(l="https://discovery-autocomplete-api.prd.01.eu-west-1.eu.olx.org/api/v1/search/autocomplete");var[s]=(0,_.S)(l,{queryParams:{query:n,types:"popular_category,popular_query",limit:10,site:o},method:"GET",headers:{"X-Client-Name":"desktop"}},250),u=S()((0,C.E)(null===s||void 0===s?void 0:s.data),(e=>{var t,n;return Z()(e,["category","label"],null===(t=c[null===e||void 0===e||null===(n=e.category)||void 0===n?void 0:n.id])||void 0===t?void 0:t.name)}));return u&&0!==u.length?i().createElement(i().Fragment,null,r,u.map(((e,r)=>{var o;return i().createElement(O.Al,{"data-testid":"search-suggession-item",key:"".concat(r).concat(e.query),onClick:()=>t(e,a,r+1)},i().createElement(m.TB,{dangerouslySetInnerHTML:{__html:e.query.replace(new RegExp(n,"i"),"<b>$&</b>")}}),(null===(o=e.category)||void 0===o?void 0:o.label)&&i().createElement(m.Ym,null,e.category.label))}))):null},D=n(14430);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(){var e=N(["\n    margin-top: ",";\n    color: ",";\n"]);return T=function(){return e},e}function R(){var e=N(["\n    position: relative;\n"]);return R=function(){return e},e}function B(){var e=N(["\n    ","\n"]);return B=function(){return e},e}function N(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var V=(0,c.Z)(p.n)(B(),(({theme:e})=>"\n        border-radius: 0;\n        border-color: ".concat(e.colors.white,";\n        background-color: ").concat(e.colors.white,";\n        height:").concat(e.sizes[72],";\n    "))),F=c.Z.div(R()),H=(0,c.Z)(o.olm)(T(),(({theme:e})=>e.space[8]),(({theme:e})=>e.colors.charcoal)),W=["query","category_id","type","district_id","distance","region_id","sort_by","view","description"],U=e=>e.map((e=>A(A({},e),{},{applied_filter:Object.keys(f()(e,W)).length}))),Y=e=>{var{setValues:t,setFieldValue:n,values:a,track:o}=e,{query:c,category_id:l}=a,{formatMessage:s}=(0,u.Z)(),d=(0,r.useRef)(null),[f,p]=(0,r.useState)(c||""),[m,b]=(0,r.useState)(!1),[y,w]=(0,r.useState)(U(g.lO.get(5)));(0,r.useEffect)((()=>{p(c||"")}),[c]);var k=(0,I.L_)(),S=(e,t,n)=>{switch(e){case"history":o(h.if.events.restoredSuggestClick,A({category_id:t,keyword:c},(0,D.Z)(k,t)));break;case"suggestion":o(h.if.events.suggestedClick,A({category_id:t,keyword:c,cat_position:n},(0,D.Z)(k,t)));break;default:o(h.if.events.keywordSearch)}},P=({query:e,category:n},r,i)=>{S(r,null===n||void 0===n?void 0:n.id,i),p(e);var o="suggestion"===r;t&&t(A(A({},a),{},{query:e,category_id:null===n||void 0===n?void 0:n.id,isSuggestion:o})),null!==e&&void 0!==e||g.lO.add({query:e,category:n}),b(!1)},Z=e=>{e.preventDefault(),e.stopPropagation(),o(h.if.events.clearButtonClick),t(A(A({},a),{},{query:""})),p("")};return i().createElement(F,{"data-testid":"search-autosuggession",ref:d},i().createElement(v.z,{toggleNode:i().createElement(V,{id:"search","data-testid":"search-input","data-cy":"search-bar-input",value:f,onChange:e=>{p(e.target.value),n("query",e.target.value,!1)},onFocus:()=>{o(h.if.events.filterClick),b(!0)},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),e.currentTarget.blur(),p(e.currentTarget.value),P({query:e.currentTarget.value,category:{id:l}},"",0))},renderPrefix:()=>i().createElement(H,null),renderSuffix:()=>f?i().createElement(E,{onClear:Z}):void 0,placeholder:s({id:"search.placeholder",defaultMessage:"Search for ..."})})},m&&i().createElement(O.qk,{width:null===d||void 0===d?void 0:d.current.clientWidth,pt:0,px:16,mt:0,maxHeight:400},i().createElement(j,{label:i().createElement(O._I,{pt:6},s({id:"search.recents",defaultMessage:"Recent Search"})),type:"history",query:f||"",recentSearch:y,handleSelect:P,handleClear:(e,t)=>{e.stopPropagation(),e.preventDefault(),g.lO.remove(t),w(U(g.lO.get(5)))}}),i().createElement(z,{label:i().createElement(O._I,{pt:6},s({id:"search.suggested",defaultMessage:"Suggested Search"})),type:"suggestion",handleSelect:P,query:f}))))},K=n(22831),$=n(78117),G=n(59329),Q=n(15416),J=n(72579),X=n.n(J),ee=n(23774),te=n(84242),ne=n(4183),re=n(97306);function ie(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    ","\n"]);return ie=function(){return e},e}var ae=e=>(0,g.I8)({title:e({id:"filters.wholeCountry",defaultMessage:"Select whole country"}),description:e({id:"filters.allInWholeCountry",defaultMessage:"All in whole country"})}),oe=c.Z.ul(ie(),(({theme:e})=>"\n        margin: ".concat(e.space[0],";\n        padding: ").concat(e.space[0],";\n    "))),ce=({onChange:e,paddingLeft:t=8})=>{var{formatMessage:n}=(0,u.Z)(),{title:r,description:a}=ae(n);return i().createElement(oe,null,i().createElement(G.W,{key:"all_region","data-testid":"all-regions","data-cy":"all-regions",title:r,subtitle:a,style:{height:"auto",paddingLeft:t},onClick:()=>e(ae(intl))}))},le=n(31415),se=n(64261),ue=n(41927),de=n(23149),fe=n(78646),pe=n(85026),ge=n(81063),ve=n(73181);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t,n,r,i,a,o){try{var c=e[a](o),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,i)}function ye(){var e=Ee(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return ye=function(){return e},e}function we(){var e=Ee(["\n    min-height: ",";\n    background-color: ",";\n    border-radius: ",";\n    margin: ",";\n"]);return we=function(){return e},e}function Ee(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Oe=c.Z.div(we(),(e=>e.theme.sizes[64]),(e=>e.theme.colors.tealBgLight),(e=>e.theme.radii[4]),(e=>"".concat(e.theme.space[16]," ").concat(e.theme.space[8]))),je=c.Z.div(ye()),ke=({selectLocationHandler:e})=>{var[t,n]=(0,r.useState)(!0),[a,o]=(0,r.useState)(),[c,l]=(0,r.useState)(!1),[s,d]=(0,r.useState)(),{formatMessage:f}=(0,u.Z)(),p=pe.Z.permissionAllowed.get();(0,r.useEffect)((()=>{g(!!p)}),[]);var g=e=>{e&&h.ap.trackEvent(h.yh.events.localizeMe),(0,de.ZP)(v,m)},v=function(){var e,t=(e=function*(e){var{coords:{latitude:t,longitude:r}}=e;h.ap.trackEvent(h.d.events.getLocationSuccess),pe.Z.permissionAllowed.set(!0);var i=pe.Z.userLastLocationParams.get();if(i&&i.latitude===t&&i.longitude===r)return o(i.location),void n(!1);try{var a=yield(0,ge.Kx)({latitude:t,longitude:r});a||d(fe.d.POSITION_UNAVAILABLE),pe.Z.geoLocation.set(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a)),pe.Z.userLastLocationParams.set({location:a,latitude:t,longitude:r}),o(a)}catch(s){d(fe.d.TIMEOUT),ve.default.captureException(s)}finally{n(!1)}},function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){be(a,r,i,o,c,"next",e)}function c(e){be(a,r,i,o,c,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),m=e=>{e.code===fe.d.PERMISSION_DENIED?pe.Z.permissionAllowed.set(!1):(h.ap.trackEvent(h.d.events.getLocationFailed),pe.Z.permissionAllowed.set(!0)),d(e.code),n(!1)},{title:b,subtitle:y}=(()=>{var e="",t="";return s===fe.d.PERMISSION_DENIED?(e=f({id:"mylocation.deniedTitle"}),t=f({id:"mylocation.deniedSubtitle"})):s===fe.d.POSITION_UNAVAILABLE||s===fe.d.TIMEOUT?(e=f({id:"mylocation.unavailableTitle"}),t=f({id:"mylocation.unavailableSubtitle"})):void 0!==a?(e=null===a||void 0===a?void 0:a.geoDescription,t=f({id:"mylocation.locationSubtitle"})):(e=f({id:"mylocation.unavailableTitle"}),t=f({id:"mylocation.unavailableSubtitle"})),{title:e,subtitle:t}})();return i().createElement(Oe,{"data-onboarding-id":"geo-location-button","data-testid":"user-location","data-cy":"user-location"},i().createElement(se.Z,{title:b,subtitle:y,onClick:t=>{t.stopPropagation(),t.preventDefault(),a?(l(!0),(t=>{if(a){var n={district_id:a.districtId,city_id:a.cityId,region_id:a.regionId};h.ap.trackEvent(h.d.events.gpsLocationSelected,n),e&&e(a)}})()):g(!0)},isLoading:t,rightSlot:!!a&&i().createElement(je,null,i().createElement(ue.Z,{active:c})),icon:i().createElement($.Z,{size:24})}))},Se=n(26138),Pe=n(11792);function Ze(e,t,n,r,i,a,o){try{var c=e[a](o),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,i)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ze(a,r,i,o,c,"next",e)}function c(e){Ze(a,r,i,o,c,"throw",e)}o(void 0)}))}}function _e(){var e=Re(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n    margin: 0;\n    background: transparent;\n    cursor: pointer;\n    ","\n"]);return _e=function(){return e},e}function Ie(){var e=Re(["\n    ","\n"]);return Ie=function(){return e},e}function Ce(){var e=Re(["\n    ","\n"]);return Ce=function(){return e},e}function Le(){var e=Re(["\n    ","\n"]);return Le=function(){return e},e}function ze(){var e=Re(["\n    ","\n"]);return ze=function(){return e},e}function De(){var e=Re(["\n    margin: 0;\n    padding: 0;\n"]);return De=function(){return e},e}function Me(){var e=Re(["\n    ","\n"]);return Me=function(){return e},e}function Ae(){var e=Re(["\n    padding: 0;\n"]);return Ae=function(){return e},e}function qe(){var e=Re(["\n    margin-bottom: ",";\n"]);return qe=function(){return e},e}function Te(){var e=Re(["\n    ","\n"]);return Te=function(){return e},e}function Re(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Be=c.Z.div(Te(),(({theme:e})=>"\n        height: 400px;\n        overflow-y: scroll;\n        background:  ".concat(e.colors.white,";\n        box-shadow: ").concat(e.shadows[8],";\n        border-radius: 0 0 ").concat(e.radii[4]," ").concat(e.radii[4],";\n        ::-webkit-scrollbar {\n            -webkit-appearance: none;\n            width: 16px;\n        }\n        ::-webkit-scrollbar-thumb {\n            box-shadow: inset 0 0 14px 14px ").concat(e.colors.grey4,";\n            border: solid 6px transparent;\n            border-radius: 14px;\n        }\n\n        &:before {\n            display: block;\n            content: '';\n            position: absolute;\n            width: 100%;\n            margin: 0 auto;\n            height: 12px;\n            border: 0;\n            box-shadow: inset 0 12px 12px -12px rgba(0, 47, 52, 0.1);\n        }\n    "))),Ne=c.Z.div(qe(),(({theme:e})=>e.space[12])),Ve=(0,c.Z)(ce)(Ae()),Fe=(0,c.Z)(re.ul)(Me(),(({theme:e})=>"\n        font-size: ".concat(e.fontSizes[12],";\n        font-weight: ").concat(e.fontWeights[700],";\n        padding: ","".concat(e.space[8]," ").concat(e.space[16]," 0"),";\n    "))),He=c.Z.ul(De()),We=(0,c.Z)(ne.u)(ze(),(({theme:e})=>"\n        padding-left: ".concat(e.space[16],";\n        &:hover {\n            background-color: ").concat(e.colors.grey1,";\n        }\n    "))),Ue=(0,c.Z)(te.H)(Le(),(({theme:e})=>"\n        padding-left: ".concat(e.space[16],";\n        &:hover {\n            background-color: ").concat(e.colors.grey1,";\n        }\n    "))),Ye=(0,c.Z)(ee.F)(Ce(),(({theme:e})=>"\n        padding-left: ".concat(e.space[16],";\n        &:hover {\n            background-color: ").concat(e.colors.grey1,";\n        }\n    "))),Ke=(0,c.Z)(G.W)(Ie(),(({theme:e})=>"\n        padding-left: ".concat(e.space[16],";\n        width: 100%;\n        &:hover {\n            background-color: ").concat(e.colors.grey1,";\n        }\n    "))),$e=c.Z.button(_e(),(({theme:e})=>"\n        padding: ".concat(e.space[16],";\n        border-bottom: 1px solid ").concat(e.colors.grey3,";\n        &:hover {\n            background-color: ").concat(e.colors.grey1,";\n        }\n    "))),Ge=({onChange:e})=>{var{formatMessage:t}=(0,u.Z)(),[n,a]=(0,r.useState)(),[o,c]=(0,r.useState)(null),[l,s]=(0,r.useState)(null),[d,f]=(0,r.useState)(),[p,v]=(0,r.useState)(),h=(0,r.useRef)(null);(0,r.useEffect)((()=>{xe((function*(){var e=yield(0,Se.nx)();a(e)}))()}),[]);var m=()=>{var e;null===h||void 0===h||null===(e=h.current)||void 0===e||e.scrollTo(0,0)},b=function(){var e=xe((function*(e){var{regionId:t,region:n}=e;if(t){f(e);var r=yield(0,Se.gT)(t,n);c(r),m()}}));return function(t){return e.apply(this,arguments)}}(),y=function(){var t=xe((function*(t,n){var{regionId:r,region:i,city:a,cityId:o}=t;if(r&&o){if(n){var c=yield(0,Se.hj)(o,a,r,i);s(c),v(t)}else e((0,g.I8)(t));m()}}));return function(e,n){return t.apply(this,arguments)}}(),w=e=>{"to-cities"===e?s(null):c(null)};return i().createElement(Be,{ref:h,"data-testid":"listing-wrapper","data-cy":"listing-wrapper"},l?(()=>{var n=X()(p,"regionId",null),r=X()(p,"cityId",null),a=X()(p,"title",""),o=(0,g.I8)({regionId:n,cityId:r,title:a,description:t({id:"filters.wholeCity"})});return i().createElement(i().Fragment,null,i().createElement($e,{type:"button","data-testid":"districts-back-button","data-cy":"districts-back-button",onClick:()=>w("to-cities")},i().createElement(le.Z,{marginRight:12}),i().createElement(Q.Z,{id:"back",defaultMessage:"Back"})),i().createElement(Ne,{"data-testid":"district-list","data-cy":"district-list"},i().createElement("div",null,i().createElement(Ke,{"data-testid":"all-districts","data-cy":"all-districts",key:"all_districts",title:o.title,subtitle:o.description,onClick:()=>e(o),as:"div"}),i().createElement(Fe,null,i().createElement(Q.Z,{id:"filters.selectCity",defaultMessage:"District"}))),l&&i().createElement(He,null,l.map(((t,n)=>i().createElement(We,{"data-testid":"district-item","data-cy":"district-item",key:"".concat(t.districtId?t.districtId:n,"_city"),title:t.description,onClick:()=>e(t)}))))))})():o?(()=>{var n=(0,g.I8)({regionId:d?d.regionId:null,title:d?d.title:"",description:t({id:"filters.wholeRegion"})});return i().createElement(i().Fragment,null,i().createElement($e,{type:"button","data-testid":"cities-back-button","data-cy":"cities-back-button",onClick:()=>w("to-regions")},i().createElement(le.Z,{marginRight:12}),i().createElement(Q.Z,{id:"back",defaultMessage:"Back"})),i().createElement(Ne,null,i().createElement("div",null,i().createElement(Ke,{"data-testid":"all-cities","data-cy":"all-cities",key:"all_cities",title:n.title,subtitle:n.description,onClick:()=>e(n),as:"div"}),i().createElement(Fe,null,i().createElement(Q.Z,{id:"filters.selectCity",defaultMessage:"City"}))),o&&i().createElement(He,{"data-testid":"cities-list","data-cy":"cities-list"},o.map(((e,t)=>{var{cityId:n,title:r,has_districts:a}=e,o=a?Ue:We;return i().createElement(o,{"data-testid":"city-item","data-cy":a?"city-item-parent":"city-item",key:"".concat(n||t,"_city"),title:r,onClick:()=>y(e,a)})})))))})():n?i().createElement(i().Fragment,null,i().createElement(ke,{selectLocationHandler:e}),i().createElement(Ne,{"data-testid":"location-list","data-cy":"location-list"},i().createElement("div",null,i().createElement(Ve,{onChange:e,paddingLeft:16}),i().createElement(Fe,null,i().createElement(Q.Z,{id:"filters.selectRegion",defaultMessage:"Choose a Region"}))),n&&i().createElement(He,{"data-testid":"regions-list","data-cy":"regions-list"},n.map(((e,t)=>i().createElement(Ye,{"data-testid":"regions-item","data-cy":"regions-item",key:"".concat(e.regionId?e.regionId:t,"_region"),title:e.title,subtitle:e.description,onClick:()=>b(e)})))))):i().createElement(Pe.Z,null))},Qe=n(76635),Je=n(68134);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    ","\n"]);return nt=function(){return e},e}var rt=(0,c.Z)(Je.Z)(nt(),(({theme:e})=>"\n    border-left: 1px solid ".concat(e.colors.grey2,";\n    & > div {\n            padding: ").concat(e.space[8],";\n            height: 70px;\n            border-radius:").concat(e.radii[0],";\n        }\n        & button {\n            padding-left: ").concat(e.space[0],";\n            padding-right: ").concat(e.space[0],";\n        }\n        & a{\n            padding-left: ").concat(e.space[6],";\n            padding-right: ").concat(e.space[6],";\n            display: flex;\n            align-items: center;\n        }\n        a {\n            text-decoration: unset;\n            color: unset;\n            cursor: unset;\n        }\n"))),it=({setValues:e,values:t,distances:n,track:r})=>{var a=(0,Qe.get)(t,"distance",0),o=n.map((e=>({id:e.value,label:"+".concat(e.value," km")})));return i().createElement(rt,{"data-testid":"location-distance","data-cy":"location-distance",onDropdownExpansionChange:e=>{e&&r(h.yh.events.distanceChangeClick)},sourceItems:o,selectedIds:[a],onSelectedIdsChange:n=>{r(h.yh.events.distanceChangeValid,{filters:["distance"],filters_values:n}),e(et(et({},t),{},{distance:n[0]}))}})},at=n(45455),ot=n.n(at),ct=n(54073),lt=n.n(ct);function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e,t,n,r,i,a,o){try{var c=e[a](o),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,i)}function pt(){var e=vt(["\n    padding-left: ",";\n"]);return pt=function(){return e},e}function gt(){var e=vt(["\n    position: absolute;\n    top: 100%;\n    width: 100%;\n    left: 0;\n    max-height: 400px;\n    overflow-y: scroll;\n    z-index: ",";\n    background: ",";\n    box-shadow: ",";\n    ::-webkit-scrollbar {\n        -webkit-appearance: none;\n        width: 16px;\n    }\n    ::-webkit-scrollbar-thumb {\n        box-shadow: inset 0 0 14px 14px ",";\n        border: solid 6px transparent;\n        border-radius: 14px;\n    }\n    &:before {\n        display: block;\n        content: '';\n        position: absolute;\n        width: 100%;\n        margin: 0 auto;\n        height: 12px;\n        border: 0;\n        box-shadow: inset 0 12px 12px -12px rgba(0, 47, 52, 0.1);\n    }\n"]);return gt=function(){return e},e}function vt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ht=c.Z.div(gt(),(({theme:e})=>e.zIndices.dropdown),(({theme:e})=>e.colors.white),(({theme:e})=>e.shadows[8]),(({theme:e})=>e.colors.grey4)),mt=(0,c.Z)(G.W)(pt(),(({theme:e})=>e.space[16])),bt=({inputQuery:e,setShowSuggestion:t,setSelectedLocation:n})=>{var[a,o]=(0,r.useState)(),c=lt()(function(){var e,t=(e=function*(e){var t=yield(0,Se.VV)(e);(null===t||void 0===t?void 0:t.length)&&o(t)},function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ft(a,r,i,o,c,"next",e)}function c(e){ft(a,r,i,o,c,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),600);return(0,r.useEffect)((()=>{e?c(e):o()}),[e]),ot()(a)?null:i().createElement(ht,{"data-testid":"suggestion-list","data-cy":"suggestion-list"},a&&a.map(((e,r)=>i().createElement(mt,{"data-testid":"suggestion-item","data-cy":"suggestion-item",key:r,title:e.title,subtitle:null===e||void 0===e?void 0:e.description,onClick:()=>{n(e),t((e=>ut(ut({},e),{},{showSuggestions:!1})))}}))))},yt=n(38118);function wt(e,t,n,r,i,a,o){try{var c=e[a](o),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,i)}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(){var e=Ct(["\n    ","\n"]);return kt=function(){return e},e}function St(){var e=Ct(["\n    width: 35%;\n"]);return St=function(){return e},e}function Pt(){var e=Ct(["\n    ","\n"]);return Pt=function(){return e},e}function Zt(){var e=Ct(["\n    margin-top: ",";\n    color: ",";\n"]);return Zt=function(){return e},e}function xt(){var e=Ct(["\n    position: relative;\n"]);return xt=function(){return e},e}function _t(){var e=Ct(["\n    position: relative;\n    width: 100%;\n"]);return _t=function(){return e},e}function It(){var e=Ct(["\n    width: 100%;\n    height: 70px;\n    position: relative;\n    z-index: ",";\n    background-color: ",";\n    display: flex;\n"]);return It=function(){return e},e}function Ct(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Lt=c.Z.div(It(),(({theme:e})=>e.zIndices.dropdown),(({theme:e})=>e.colors.white)),zt=c.Z.div(_t()),Dt=c.Z.div(xt()),Mt=(0,c.Z)($.Z)(Zt(),(({theme:e})=>e.space[10]),(({theme:e})=>e.colors.charcoal)),At=(0,c.Z)(p.n)(Pt(),(({theme:e,selected:t})=>"\n        ".concat(t?"font-weight: ".concat(e.fontWeights[700],";"):"","\n        border-radius: 0;\n        border-color: ").concat(e.colors.white,";\n        background-color: ").concat(e.colors.white,";\n        height:").concat(e.sizes[72],";\n    "))),qt=c.Z.div(St()),Tt=(0,c.Z)(b.Z)(kt(),(({theme:e})=>"\n        padding:".concat(e.space[0],";\n        border:none;\n        position:absolute;\n        top:50%;\n        transform:translateY(-50%);\n        right: ").concat(e.space[12],";\n    "))),Rt={clicked:h.Sp.events.locationClicked,changed:h.Sp.events.locationChanged,cleared:h.Sp.events.locationClear},Bt=({setValues:e,values:t,track:n,distances:a})=>{var{formatMessage:c}=(0,u.Z)(),[l,s]=(0,r.useState)({showSuggestions:!1,showLocations:!1}),[d,f]=(0,r.useState)(""),p=(0,r.useRef)(null),{city_id:v,district_id:h,region_id:m}=t,b=!!v||!!m||!!h,y=c({id:"filters.wholeCountry",defaultMessage:"Entire country"});(0,yt.O)(p,(()=>{s({showSuggestions:!1,showLocations:!1})}),!0);var w=()=>{n(Rt.cleared,{city_id:v,district_id:h,region_id:m}),s({showSuggestions:!1,showLocations:!1}),f(""),e(Ot(Ot({},t),{},{city_id:void 0,region_id:void 0,district_id:void 0,distance:void 0}))},E=r=>{if(r){var{cityId:i,districtId:a,regionId:o}=r;g.RL.add((0,g.I8)(r));var c={city_id:i,district_id:a,region_id:o};n(Rt.changed,c),e(Ot(Ot(Ot({},t),c),{},{distance:0})),s({showSuggestions:!1,showLocations:!1})}};return(0,r.useEffect)((()=>{if(v||h||m){var e=!!h,t=g.RL.find({cityId:v,districtId:h,regionId:m});(function(){var n,r=(n=function*(){var n;!(null===(n=t)||void 0===n?void 0:n.city)&&v&&(t=e?yield(0,Se.Rf)(h):yield(0,Se.w8)(v));var r=t&&(0,g.I8)(t);r&&f(e?"".concat(r.city,", ").concat(r.title):"".concat(r.title).concat(r.region?", ".concat(r.region):""))},function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(e){wt(a,r,i,o,c,"next",e)}function c(e){wt(a,r,i,o,c,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}})()()}else f("")}),[v,h,m]),i().createElement(Lt,{ref:p},i().createElement(zt,null,i().createElement(Dt,null,i().createElement(At,{renderPrefix:()=>i().createElement(Mt,{size:24,color:"icon-global-disabled"}),name:"location-Field","data-testid":"location-search-input","data-cy":"location-search-input",value:d,onChange:e=>{var t=e.target.value,n=t.length>3;f(t),s(n?{showSuggestions:!0,showLocations:!1}:{showSuggestions:!1,showLocations:!0})},onFocus:e=>{var t=e.target.value,r=(!m||!v)&&t.length>3;s({showSuggestions:!!r,showLocations:!r}),n(Rt.clicked)},"aria-label":y,placeholder:y,selected:(null===d||void 0===d?void 0:d.length)>0,renderSuffix:()=>(null===d||void 0===d?void 0:d.length)>0?i().createElement(Tt,{"data-testid":"clear-btn","data-cy":"clear-btn",onClick:w},i().createElement(o.x8P,{size:20})):void 0})),l.showSuggestions&&i().createElement(bt,{inputQuery:d,setShowSuggestion:s,setSelectedLocation:E}),l.showLocations&&i().createElement(Ge,{onChange:E})),b&&a&&i().createElement(qt,null,i().createElement(it,{track:n,distances:a,setValues:e,values:t})))};function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vt(e,t,n,r,i,a,o){try{var c=e[a](o),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,i)}function Ft(){var e=Ut(["\n    ","\n"]);return Ft=function(){return e},e}function Ht(){var e=Ut(["\n    ","\n"]);return Ht=function(){return e},e}function Wt(){var e=Ut(["\n    padding: "," 0;\n"]);return Wt=function(){return e},e}function Ut(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Yt=c.Z.div(Wt(),(({theme:e})=>e.sizes[40])),Kt=(0,c.Z)(K.Z)(Ht(),(({theme:e})=>"\n    height: ".concat(e.sizes[72],";\n    border-top-right-radius: ").concat(e.radii[4],";\n    border-bottom-right-radius: ").concat(e.radii[4],";\n    border-top-left-radius: ").concat(e.radii[0],";\n    border-bottom-left-radius: ").concat(e.radii[0],";\n    white-space: nowrap;\n    &:hover {\n        svg {\n            color: ").concat(e.colors.charcoal,";\n        }\n    }"))),$t=(0,c.Z)(o.olm)(Ft(),(({theme:e})=>"\n        size: ".concat(e.sizes[24],";\n        margin:-").concat(e.space[2]," ").concat(e.space[2],";\n        color:").concat(e.colors.white,";\n    "))),Gt=({initialValues:e,showDistance:t=!0,distances:n,tracking:o,searchSubmit:c})=>{var{formatMessage:d}=(0,u.Z)(),[f,p]=(0,r.useState)(n);return(0,r.useEffect)((()=>{var e;t&&(n||(e=function*(){var e=yield(0,l.oW)();p(e)},function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Vt(a,r,i,o,c,"next",e)}function c(e){Vt(a,r,i,o,c,"throw",e)}o(void 0)}))})())}),[t]),i().createElement(s.rj,null,i().createElement(s.sg,{col:12,mb:0},i().createElement(Yt,null,i().createElement(a.J9,{onSubmit:c,initialValues:e,validateOnBlur:!1,validate:e=>{e.isSuggestion&&c(e)},enableReinitialize:!0},(e=>i().createElement(a.l0,{noValidate:!0,"data-testid":"search-form"},i().createElement(s.rj,{gridColumnGap:1},i().createElement(s.sg,{key:"search",col:6,mb:0},i().createElement(Y,Nt({},e,{track:o}))),i().createElement(s.sg,{col:5,mb:0},i().createElement(Bt,Nt({},e,{track:o,distances:f}))),i().createElement(s.sg,{col:1,mb:0},i().createElement(Kt,{type:"submit",name:"searchBtn","data-testid":"search-submit",onClick:()=>{o(h.if.events.keywordSearch)}},d({id:"b2cPro.filters.search_label",defaultMessage:"Search"}),i().createElement($t,null))))))))))}}}]);
//# sourceMappingURL=90306.79f8ed58b.chunk.js.map